<!doctype html>
<html>
<head>
  <meta charset="UTF-8">
  <title>tree-fs</title>

  <link rel="stylesheet" href="../_data/theme/lib/normalize/normalize.css"/>
  <link rel="stylesheet" href="../_data/theme/css/prism.css"/>
  <link rel="stylesheet" href="../_data/theme/css/admonition.css"/>
  <link rel="stylesheet" href="../_data/theme/css/style.css"/>
  <link rel="stylesheet" href="../_data/theme/css/style-mdoc-ext.css"/>
  <script src="../_data/theme/lib/prism/prism.js"></script>
  <script src="../_data/theme/js/prism-ext.js"></script>
  <script>
      window.mdoc = window.mdoc || {};
      mdoc.indexRef = '../index.html';
      mdoc.topicFile = 'mdoc/cm-tree-fs.html';
      mdoc.topicId = 'mdoc/cm-tree-fs';
  </script>
  <script>
mdoc.tocTopic=[{"title":"Описание","topicId":"mdoc/cm-tree-fs","ref":"mdoc/cm-tree-fs.html#head1"}]  </script>
  <script src="../toc.js"></script>
</head>

<body>
<div class="page-wrap">
  <div class="page-header">
    <div class="page-header-item document-title">
      <a href="../index.html">Jandcode Core</a>
    </div>

    <div class="page-header-item split">
    </div>

    <div class="page-header-item menu-item">
    </div>
  </div>

  <div class="page-body">

    <div class="page-tools">
      <div class="tools-block">
        <div class="tools-block-title">
          Содержание
        </div>

        <div class="tools-block-body">
          <div class="doc-toc">
            <ul><li class="folder "><a href="../intro/intro.html">Введение</a></li>
<li class="open "><a href="../x/x1.html">Модули</a><ul><li class="folder "><a href="../apx/index.html">apx - платформа приложения</a></li>
<li class="folder "><a href="../commons/index.html">commons - утилиты</a></li>
<li class="folder "><a href="../jc/index.html">jc - приложение</a></li>
<li class="folder "><a href="../core/index.html">core - ядро платформы</a></li>
<li class="folder "><a href="../web/index.html">web - web-приложение</a></li>
<li class="open "><a href="index.html">mdoc - генератор документации</a><ul><li class=""><a href="get-start.html">Начало работы</a></li>
<li class=""><a href="sourcefiles.html">Исходные файлы</a></li>
<li class="folder "><a href="topic.html">Статья</a></li>
<li class=""><a href="toc-xml.html">Содержание toc.xml</a></li>
<li class=""><a href="markdown.html">Формат markdown</a></li>
<li class=""><a href="syntax-highlight.html">Подсветка синтаксиса</a></li>
<li class=""><a href="ref.html">Ссылки</a></li>
<li class="open "><a href="cm.html">Макрокоманды</a><ul><li class=""><a href="cm-custom.html">Собственные макрокоманды</a></li>
<li class=""><a href="cm-code.html">code - вставка фрагментов кода</a></li>
<li class=""><a href="cm-code-info.html">code-info</a></li>
<li class=""><a href="cm-prop.html">prop</a></li>
<li class="cur "><a href="cm-tree-fs.html">tree-fs</a></li>
</ul></li>
<li class="folder "><a href="utils.html">Утилиты</a></li>
<li class=""><a href="api-jc-mdoc.html">MDocProject</a></li>
<li class=""><a href="editor.html">Редактирование</a></li>
</ul></li>
<li class="folder "><a href="../db/index.html">db - базы данных</a></li>
<li class="folder "><a href="../tutorial/index.html">How to (учебник)</a></li>
</ul></li>
</ul>
          </div>
        </div>
      </div>
    </div>

    <div class="page-content">
<div class="topic-breadcrumb">
  <ul class="breadcrumb">
<li><a href="../index.html">Jandcode Core</a></li>
<li><a href="../x/x1.html">Модули</a></li>
<li><a href="index.html">mdoc - генератор документации</a></li>
<li><a href="cm.html">Макрокоманды</a></li>
<li class="active">tree-fs</li>
</ul>

</div>

<div class="topic-header">
  <h1>tree-fs</h1>
</div>
<div class="topic-toc">
  <div class="topic-toc-title">Содержание</div>

  <div class="topic-toc-content">
    <ul><li class=""><a href="cm-tree-fs.html#head1">Описание</a></li>
</ul>
  </div>
</div>
<div class="topic-body">
  <h2 id="head1">Описание</h2>
<p>Дерево, имитирующее файловую систему, которое описывается в файле формата <code>conf</code>.</p>
<p>Формат:</p>
<div class="codeblock" data-language="txt"><div class="codeblock--content"><pre><code class="language-txt">@@tree-fs attr=value
</code></pre>
</div></div>
<p>Атрибуты:</p>
<ul>
<li><code>file</code> - имя файла <code>conf</code>, в котором описана структура каталогов.
Каждый объект в ней - это каталог или файл.
Если есть дочерние - каталог. Если нет - файл.
Если нужен каталог без файлов - указать свойство <code>folder=true</code>.
В свойстве <code>mark</code> - текст который будет показан после имени сереньким</li>
<li><code>root</code> - путь <code>conf</code> до объекта, который показывать. Если пусто - то весь загруженный.</li>
<li><code>join</code> - список путей, которые нужно объеденить и полученный результат показать.
Если содержит <code>'@'</code>, то все что до <code>'@'</code> - что объединять, все что после - куда.</li>
</ul>
<p>Пример:</p>
<p>Имеем такой файл:</p>
<div class="codeblock" data-language="cfx"><div class="codeblock--title">dirs.cfx</div><div class="codeblock--content"><pre><code class="language-cfx">&lt;root&gt;

    &lt;project&gt;

        &lt;src&gt;
            &lt;dir1&gt;
                &lt;dir2&gt;
                    &lt;file2.md/&gt;
                &lt;/dir2&gt;
                &lt;file1.md/&gt;
            &lt;/dir1&gt;
            &lt;empty-folder folder=&quot;true&quot;/&gt;
            &lt;file3.md mark=&quot;(from src)&quot;/&gt;
            &lt;file4.md/&gt;
        &lt;/src&gt;

        &lt;src2&gt;
            &lt;dir1&gt;
                &lt;dir3&gt;
                    &lt;file6.md/&gt;
                &lt;/dir3&gt;
                &lt;file5.md/&gt;
            &lt;/dir1&gt;
            &lt;file3.md mark=&quot;(from src2)&quot;/&gt;
            &lt;file7.md/&gt;
        &lt;/src2&gt;

    &lt;/project&gt;

&lt;/root&gt;</code></pre></div></div>
<p>Используем:</p>
<div class="codeblock" data-language="txt"><div class="codeblock--content"><pre><code class="language-txt">@@tree-fs file=dirs.cfx root=project
</code></pre>
</div></div>
<p>Получаем:</p>
<div class="cm-tree-fs">
<ul><li class='folder'><span class='item folder'>src</span><ul><li class='folder'><span class='item folder'>dir1</span><ul><li class='folder'><span class='item folder'>dir2</span><ul><li class='file'><span class='item file'>file2.md</span></li></ul></li><li class='file'><span class='item file'>file1.md</span></li></ul></li><li class='folder'><span class='item folder'>empty-folder</span></li><li class='file'><span class='item file'>file3.md</span><span class='mark'>(from src)</span></li><li class='file'><span class='item file'>file4.md</span></li></ul></li><li class='folder'><span class='item folder'>src2</span><ul><li class='folder'><span class='item folder'>dir1</span><ul><li class='folder'><span class='item folder'>dir3</span><ul><li class='file'><span class='item file'>file6.md</span></li></ul></li><li class='file'><span class='item file'>file5.md</span></li></ul></li><li class='file'><span class='item file'>file3.md</span><span class='mark'>(from src2)</span></li><li class='file'><span class='item file'>file7.md</span></li></ul></li></ul></div>

</div>
    </div>

  </div>

  <div class="page-footer">

  </div>

</div>

</body>
</html>
